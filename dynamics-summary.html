<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>dynamics-summary</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="dynamics-summary_files/libs/clipboard/clipboard.min.js"></script>
<script src="dynamics-summary_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="dynamics-summary_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="dynamics-summary_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="dynamics-summary_files/libs/quarto-html/popper.min.js"></script>
<script src="dynamics-summary_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="dynamics-summary_files/libs/quarto-html/anchor.min.js"></script>
<link href="dynamics-summary_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="dynamics-summary_files/libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="dynamics-summary_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="dynamics-summary_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="dynamics-summary_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="dynamics" class="level1">
<h1>Dynamics Summary</h1>
<section id="inertia" class="level2">
<h2 class="anchored" data-anchor-id="inertia">Inertia</h2>
<p>Inertia is the property of a body that resists any change in its state of motion and is directly proportional to its mass.<br>
A net external force is required either to initiate motion from rest or to alter the velocity (magnitude or direction) of an existing velocity. The concept also appears in structural mechanics, where the resistance of a cross-section to bending is quantified by the second moment of area.</p>
</section>
<section id="momentum" class="level2">
<h2 class="anchored" data-anchor-id="momentum">Momentum</h2>
<p>Linear momentum quantifies the amount of motion possessed by a body and is defined as the product of mass and velocity. Because of its dependence on mass, objects of large mass (e.g., ships) possess considerable momentum even at moderate speeds, requiring substantial force applied over significant time to stop or redirect them.</p>
</section>
<section id="newtons-laws-of-motion" class="level2">
<h2 class="anchored" data-anchor-id="newtons-laws-of-motion">Newton’s Laws of Motion</h2>
<ol type="1">
<li><p><strong>First Law (Law of Inertia)</strong><br>
A body remains at rest or continues in uniform rectilinear motion unless acted upon by a net external force.<br>
<span class="math display">\[
\sum \vec{F} = 0 \quad \implies \quad \vec{v} = \text{constant}
\]</span></p></li>
<li><p><strong>Second Law (Law of Acceleration)</strong><br>
The net force acting on a body equals the rate of change of its linear momentum:<br>
<span class="math display">\[
\vec{F} = m\vec{a}
\]</span></p></li>
<li><p><strong>Third Law (Action–Reaction)</strong><br>
For every action force there exists an equal and opposite reaction force:<br>
<span class="math display">\[
\vec{F}_{\text{action}} = -\vec{F}_{\text{reaction}}
\]</span></p></li>
</ol>
</section>
<section id="linear-momentum-and-conservation" class="level2">
<h2 class="anchored" data-anchor-id="linear-momentum-and-conservation">Linear Momentum and Conservation</h2>
<p>Linear momentum is the vector quantity<br>
<span class="math display">\[
\vec{p} = m\vec{v}
\]</span></p>
<p>In a closed system with zero net external force, the total linear momentum of the system is conserved. This principle is a direct consequence of Newton’s third law in collisions and also applies to continuous flows (e.g., water jets impinging on surfaces), where the force exerted on a target equals the rate of change of momentum of the fluid.</p>
</section>
<section id="angular-momentum" class="level2">
<h2 class="anchored" data-anchor-id="angular-momentum">Angular Momentum</h2>
<p>Angular momentum is the moment of linear momentum about a chosen point or axis. For a rigid body rotating about a fixed axis it takes the form<br>
<span class="math display">\[
\vec{L} = I \omega \quad \text{or} \quad L = m k^{2} \omega
\]</span></p>
<p>where <span class="math inline">\(I = m k^{2}\)</span> is the moment of inertia and <span class="math inline">\(k\)</span> is the radius of gyration.</p>
</section>
<section id="radius-of-gyration" class="level2">
<h2 class="anchored" data-anchor-id="radius-of-gyration">Radius of Gyration</h2>
<p>The radius of gyration <span class="math inline">\(k\)</span> is the distance from the axis at which the entire mass of the body could be concentrated to produce the same moment of inertia.<br>
- Small <span class="math inline">\(k\)</span>: mass close to the axis → low rotational inertia (desirable for rapid speed changes).<br>
- Large <span class="math inline">\(k\)</span>: mass far from the axis → high rotational inertia (beneficial for energy storage in flywheels).</p>
</section>
<section id="turning-moment-torque" class="level2">
<h2 class="anchored" data-anchor-id="turning-moment-torque">Turning Moment (Torque)</h2>
<p>By analogy with linear motion, torque <span class="math inline">\(\tau\)</span> is related to angular acceleration <span class="math inline">\(\alpha\)</span> through<br>
<span class="math display">\[
\tau = I \alpha = m k^{2} \alpha
\]</span></p>
<p>This relation is derived from <span class="math inline">\(\vec{F} = m\vec{a}\)</span> and the kinematic link <span class="math inline">\(a = r\alpha\)</span>.</p>
</section>
<section id="power-transmitted-by-torque" class="level2">
<h2 class="anchored" data-anchor-id="power-transmitted-by-torque">Power Transmitted by Torque</h2>
<p>Power is the rate at which work is performed in rotation. For a constant torque,<br>
<span class="math display">\[
P = \tau \omega = \tau \cdot 2\pi n
\]</span></p>
<p>where <span class="math inline">\(\omega\)</span> is angular velocity in rad/s and <span class="math inline">\(n\)</span> is rotational speed in revolutions per second. This is the fundamental relation used for shafts, propellers, and geared systems.</p>
</section>
<section id="kinetic-energy-of-rotation" class="level2">
<h2 class="anchored" data-anchor-id="kinetic-energy-of-rotation">Kinetic Energy of Rotation</h2>
<p>Rotational kinetic energy is obtained by substituting <span class="math inline">\(v = \omega k\)</span> into the linear expression, yielding<br>
<span class="math display">\[
KE_{\text{rot}} = \frac{1}{2} I \omega^{2} = \frac{1}{2} m k^{2} \omega^{2}
\]</span></p>
<p>This form is widely applied to flywheels, punching machines, and any system where rotational speed varies and energy is stored or released.</p>
</section>
<section id="practical-marine-engineering-examples" class="level2">
<h2 class="anchored" data-anchor-id="practical-marine-engineering-examples">Practical Marine Engineering Examples</h2>
<section id="inertia-1" class="level3">
<h3 class="anchored" data-anchor-id="inertia-1">Inertia</h3>
<p>Large oil tankers (300 000 t deadweight) possess enormous mass inertia. Even after the main engine is stopped and reversed, the vessel continues ahead for 2–3 nautical miles (stopping distance) because an immense net force (from propeller thrust in reverse and hull resistance) is required to overcome the inertia.</p>
</section>
<section id="momentum-ship-berthing" class="level3">
<h3 class="anchored" data-anchor-id="momentum-ship-berthing">Momentum – Ship Berthing</h3>
<p>When a 50 000 t bulk carrier approaches a quay at 0.15 m/s (typical maximum allowed berthing velocity), its linear momentum is approximately 7500 t·m/s. The fenders and bollards must absorb this momentum over the short stopping time (typically 10–15 s), resulting in very large reaction forces that dictate berth design.</p>
</section>
<section id="newtons-laws-in-marine-applications" class="level3">
<h3 class="anchored" data-anchor-id="newtons-laws-in-marine-applications">Newton’s Laws in Marine Applications</h3>
<ul>
<li>First Law: A ship maintains constant speed and course on calm water with no net force (engine thrust = total resistance).</li>
<li>Second Law: During full astern crash-stop manoeuvres, the propeller delivers reverse thrust F, producing deceleration a = F/m that determines the tactical diameter and stopping distance.</li>
<li>Third Law: When a tug pushes a ship with force F, the ship exerts an equal and opposite force on the tug; this explains why powerful bow thrusters are needed on large vessels.</li>
</ul>
</section>
<section id="conservation-of-linear-momentum-jet-propulsion-and-waterjet-systems" class="level3">
<h3 class="anchored" data-anchor-id="conservation-of-linear-momentum-jet-propulsion-and-waterjet-systems">Conservation of Linear Momentum – Jet Propulsion and Waterjet Systems</h3>
<p>In waterjet propulsion, water is ejected rearward at high velocity. The forward force on the vessel equals the rate of change of momentum of the water: <span class="math display">\[
F = \dot{m} (v_{\text{jet}} - v_{\text{ship}})
\]</span> This principle governs thrust calculation for jet-driven ferries and high-speed catamarans.</p>
</section>
<section id="angular-momentum-ship-steering-and-gyroscopic-stabilisers" class="level3">
<h3 class="anchored" data-anchor-id="angular-momentum-ship-steering-and-gyroscopic-stabilisers">Angular Momentum – Ship Steering and Gyroscopic Stabilisers</h3>
<ul>
<li>When a ship turns, the rudder produces a torque that changes the angular momentum of the entire vessel about a vertical axis.</li>
<li>Large cruise ships and warships use active gyroscopic stabilisers (Seakeeper, Mitsubishi Anti-Rolling Gyro). Conservation of angular momentum is exploited: the rapidly spinning flywheel precesses when the ship rolls, producing a counteracting torque that reduces roll by up to 95 %.</li>
</ul>
</section>
<section id="radius-of-gyration-main-propulsion-shafting-and-flywheels" class="level3">
<h3 class="anchored" data-anchor-id="radius-of-gyration-main-propulsion-shafting-and-flywheels">Radius of Gyration – Main Propulsion Shafting and Flywheels</h3>
<p>Marine diesel engines (especially low-speed two-stroke engines) have very long crankshafts with large radius of gyration. Torsional vibration calculations rely on accurate k values for the crankshaft, entrained water, and propeller to place barred speed ranges safely away from operating RPM.</p>
</section>
<section id="torque-and-power-transmission-shafting" class="level3">
<h3 class="anchored" data-anchor-id="torque-and-power-transmission-shafting">Torque and Power Transmission – Shafting</h3>
<p>A typical 25 MW container ship shaft delivers torque: <span class="math display">\[
\tau = \frac{P}{\omega} = \frac{25 \times 10^6}{2\pi \times 95/60} \approx 2.5 \times 10^6 \, \text{N·m}
\]</span> This huge torque is transmitted through an intermediate shaft and propeller shaft of 600–800 mm diameter.</p>
</section>
<section id="rotational-kinetic-energy-flywheel-effect-of-propeller" class="level3">
<h3 class="anchored" data-anchor-id="rotational-kinetic-energy-flywheel-effect-of-propeller">Rotational Kinetic Energy – Flywheel Effect of Propeller</h3>
<p>A large fixed-pitch propeller (25 t, k ≈ 0.4 × diameter) rotating at 100 rpm stores several megajoules of rotational kinetic energy. During crash-stop manoeuvres this energy must be dissipated, producing very high transient shaft torques that require robust thrust blocks and shaft brakes.</p>
</section>
<section id="turning-moment-during-accelerationdeceleration" class="level3">
<h3 class="anchored" data-anchor-id="turning-moment-during-accelerationdeceleration">Turning Moment During Acceleration/Deceleration</h3>
<p>When a ship accelerates from 12 to 24 knots, the main engine must supply torque well above steady-state value: <span class="math display">\[
\tau = I \alpha + \tau_{\text{resistance}}
\]</span> where I includes the mass moment of inertia of the propeller + entrained water (often 2–3 times the physical propeller inertia).</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>